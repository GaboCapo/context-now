#!/usr/bin/env node

/**
 * Context-Now CLI Binary
 * ======================
 * Entry point for npm link / npm install
 * 
 * This wrapper allows both implementations:
 * - context-now.js (full featured original)
 * - lib/cli.js (secure NPM version)
 */

'use strict';

const path = require('path');
const fs = require('fs');

// Determine which implementation to use
const contextNowPath = path.join(__dirname, '..', 'context-now.js');
const cliPath = path.join(__dirname, '..', 'lib', 'cli.js');

// Use context-now.js if it exists (full implementation)
if (fs.existsSync(contextNowPath)) {
    require(contextNowPath);
} else if (fs.existsSync(cliPath)) {
    // Fallback to lib/cli.js (NPM package version)
    require(cliPath);
} else {
    console.error('Error: Context-Now implementation not found');
    console.error('Please ensure installation is complete');
    process.exit(1);
}